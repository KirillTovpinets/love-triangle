<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		var exports = function getLoveTrianglesCount(preferences = []) {

			var numCouples = 0;
			var temp = [];
		  for (var i = 0; i < preferences.length; i++) {
		  	if (temp.indexOf(preferences[i]) !== -1) {
		  		continue;
		  	}
		  	var couple = [];
		  	let first = preferences[i];
		  	couple.push(first);
		  	let second = i + 1;
		  	if (preferences.indexOf(second) === -1 || 
		  		preferences.indexOf(preferences.indexOf(second)) === -1 ||
		  		second === first) {
		  		continue;
		  	}
		  	couple.push(second);
		  	var third = preferences[first - 1];

			if (couple.indexOf(third) === -1 &&
				couple.indexOf(preferences.indexOf(third) + 1) !== -1 &&
				third !== undefined) {
				console.log(`first = ${first} (${preferences.indexOf(first) + 1}) second = ${second} (${preferences.indexOf(second) + 1}) third = ${third} (${preferences.indexOf(third) + 1})`);
				numCouples++;
				temp.push(first);
				temp.push(second);
				temp.push(third);
			} 
		  }

		  return numCouples;

		};
	</script>
</body>
</html>